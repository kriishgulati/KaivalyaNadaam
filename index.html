<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <!-- ‚úÖ Viewport requirement -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Workshop</title>
  <meta name="description" content="" />

  <!-- Softer, more spiritual fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@500;600;700&family=Nunito:wght@500;700;800;900&display=swap" rel="stylesheet">

  <style>
    /**************************************************************
     * MOBILE-FIRST RESPONSIVE CSS
     * - Default = mobile
     * - Tablet: min-width 768px
     * - Desktop: min-width 1025px
     * - rem units for typography
     **************************************************************/

    :root{
      /* Warm spiritual palette (not blue) */
      --bg:#0b0713;
      --card: rgba(20, 12, 30, .78);
      --card2: rgba(16, 10, 26, .80);
      --border:rgba(255,255,255,.10);
      --text:#FFF7F2;
      --muted:rgba(255,247,242,.76);
      --muted2:rgba(255,247,242,.56);
      --shadow: 0 1.125rem 3.5rem rgba(0,0,0,.45);
      --radius: 1.375rem;

      --accent: #FF7A59;   /* warm coral */
      --accent2:#F4C542;   /* saffron */
      --accent3:#B25CFF;   /* spiritual purple */
      --accent4:#FF4D6D;   /* rose */
      --good:#7CFFB2;
      --warn:#FFE08A;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Nunito, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      line-height:1.45;
      overflow-x:hidden;
      background: var(--bg);
    }
    a{color:inherit}
    img{max-width:100%; height:auto; display:block;} /* ‚úÖ responsive images */

    .container{
      width: min(68.75rem, 92vw);
      margin: 0 auto;
    }

    /* Background layers (image URLs are set from JSON in JS) */
    .bg-wrap{
      position:fixed; inset:0; z-index:-3;
      background:
        radial-gradient(56.25rem 32.5rem at 15% 0%, rgba(255,122,89,.25), transparent 60%),
        radial-gradient(56.25rem 32.5rem at 85% 10%, rgba(178,92,255,.22), transparent 60%),
        radial-gradient(56.25rem 32.5rem at 60% 110%, rgba(244,197,66,.16), transparent 60%),
        linear-gradient(180deg, #070414, #0b0713 55%, #060312);
    }
    .bg-blur-image{
      position:fixed; inset:0; z-index:-2;
      background-size:cover;
      background-position:center;
      filter: blur(1.125rem) saturate(1.2) contrast(1.05);
      opacity:.14;
      transform: scale(1.08);
      pointer-events:none;
    }
    .bg-noise{
      position:fixed; inset:-30%; z-index:-1;
      background-size:auto;
      opacity:.10;
      transform: rotate(4deg);
      pointer-events:none;
    }

    /* Top bar */
    .topbar{
      position:sticky; top:0; z-index:30;
      background: rgba(11,7,19,.66);
      backdrop-filter: blur(0.875rem);
      border-bottom: 1px solid rgba(255,255,255,.07);
    }
    .topbar-inner{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: .75rem;
      padding: .875rem 0;
    }

    .brand{
      display:flex;
      align-items:center;
      gap:.625rem;
      font-weight:900;
      letter-spacing:.01rem;
      min-width: 0;
    }
    .brand-title{
      opacity:.92;
      font-size: .95rem;
      white-space:nowrap;
      overflow:hidden;
      text-overflow:ellipsis;
      max-width: 52vw;
    }

    .badge{
      font-size:.75rem;
      padding:.45rem .7rem;
      border:1px solid rgba(255,255,255,.12);
      border-radius:999px;
      color:var(--muted);
      background:
        radial-gradient(120% 160% at 20% 0%, rgba(244,197,66,.22), transparent 60%),
        rgba(255,255,255,.04);
      box-shadow: 0 .625rem 1.75rem rgba(0,0,0,.25);
      white-space:nowrap;
      flex:0 0 auto;
    }

    /* Desktop nav actions */
    .top-actions{
      display:none; /* mobile-first: hidden, hamburger instead */
      gap:.625rem;
      align-items:center;
    }

    /* Buttons */
    .btn{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      gap:.625rem;
      border-radius:999px;
      padding:.75rem .95rem;
      font-weight:900;
      text-decoration:none;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      transition: transform .12s ease, background .12s ease, border-color .12s ease, box-shadow .12s ease;
      cursor:pointer;
      user-select:none;
      white-space:nowrap;
    }
    .btn:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.20);
      background: rgba(255,255,255,.08);
      box-shadow: 0 .75rem 2rem rgba(0,0,0,.25);
    }
    .btn.primary{
      border-color: rgba(244,197,66,.55);
      background:
        radial-gradient(120% 140% at 10% 0%, rgba(244,197,66,.36), transparent 60%),
        linear-gradient(90deg, rgba(255,122,89,.22), rgba(178,92,255,.18)),
        rgba(255,255,255,.06);
      position:relative;
      overflow:hidden;
    }
    .btn.primary::after{
      content:"";
      position:absolute;
      inset:-40%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.16), transparent);
      transform: translateX(-60%) rotate(12deg);
      animation: shine 3.8s ease-in-out infinite;
      pointer-events:none;
    }
    @keyframes shine{
      0%{ transform: translateX(-70%) rotate(12deg); }
      55%{ transform: translateX(80%) rotate(12deg); }
      100%{ transform: translateX(80%) rotate(12deg); }
    }

    /* Hamburger (mobile) */
    .hamburger{
      display:inline-flex;
      align-items:center;
      justify-content:center;
      width: 2.75rem;
      height: 2.75rem;
      border-radius: 1rem;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.06);
      cursor:pointer;
    }
    .hamburger span{
      width: 1.25rem;
      height: .125rem;
      background: rgba(255,255,255,.85);
      position:relative;
      display:block;
      border-radius: 999px;
    }
    .hamburger span::before,
    .hamburger span::after{
      content:"";
      position:absolute;
      left:0;
      width: 1.25rem;
      height: .125rem;
      background: rgba(255,255,255,.85);
      border-radius: 999px;
      transition: transform .2s ease, top .2s ease, opacity .2s ease;
    }
    .hamburger span::before{ top:-.4rem; }
    .hamburger span::after{ top:.4rem; }

    .mobile-menu{
      display:none;
      padding: .75rem 0 1rem;
    }
    .mobile-menu.open{ display:block; }
    .mobile-menu .menu-inner{
      display:flex;
      flex-direction:column;
      gap:.6rem;
    }
    .mobile-menu a{ width:100%; }

    /* Hero */
    .hero{ padding: 2.5rem 0 1rem; }
    .hero-grid{
      display:grid;
      grid-template-columns: 1fr;
      gap: .9rem;
      align-items:stretch;
    }

    .card{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 1.1rem;
      position:relative;
      overflow:hidden;
      backdrop-filter: blur(.625rem);
    }
    .card.soft{ background: var(--card2); }

    .kicker{
      display:inline-flex;
      align-items:center;
      gap:.6rem;
      padding:.5rem .75rem;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.05);
      color:var(--muted);
      font-size:.8rem;
      font-weight:900;
      flex-wrap:wrap;
    }

    .title{
      margin: .9rem 0 .5rem;
      font-family: "Cormorant Garamond", serif;
      font-size: clamp(2.05rem, 7vw, 3.1rem);
      line-height:1.02;
      letter-spacing:-.04rem;
    }
    .subtitle{
      margin:0;
      font-size: 1rem;
      color:var(--muted);
      max-width: 62ch;
      font-weight:700;
    }
    .quote{
      margin-top: .9rem;
      padding: .85rem 1rem;
      border-left: .1875rem solid rgba(244,197,66,.65);
      background: rgba(255,255,255,.05);
      border-radius: 1rem;
      color:var(--muted);
    }
    .quote strong{color:var(--text)}

    .hero-cta-row{
      display:flex;
      gap:.75rem;
      flex-wrap:wrap;
      margin-top: 1rem;
      align-items:center;
    }
    .fine{ color:var(--muted2); font-size:.85rem; font-weight:700; }

    /* Photos */
    .photo-strip{
      display:grid;
      grid-template-columns: 1fr;
      gap:.65rem;
      margin-top: 1rem;
    }
    .pimg{
      height: 7.5rem;
      border-radius: 1.125rem;
      border:1px solid rgba(255,255,255,.10);
      overflow:hidden;
      position:relative;
      background: rgba(255,255,255,.05);
      transform: translateZ(0);
    }
    .pimg img{
      width:100%;
      height:100%;
      object-fit:cover;
      filter: saturate(1.12) contrast(1.05);
      transform: scale(1.02);
      transition: transform .35s ease;
    }
    .pimg:hover img{ transform: scale(1.08); }
    .pimg::after{
      content:"";
      position:absolute;
      inset:0;
      background: linear-gradient(180deg, rgba(0,0,0,.05), rgba(0,0,0,.38));
      pointer-events:none;
    }
    .pimg .tag{
      position:absolute;
      bottom:.6rem;
      left:.6rem;
      font-size:.75rem;
      font-weight:900;
      padding:.45rem .65rem;
      border-radius:999px;
      background: rgba(0,0,0,.40);
      border:1px solid rgba(255,255,255,.14);
      color: rgba(255,255,255,.94);
      backdrop-filter: blur(.5rem);
    }

    /* Details panel */
    .detail-box{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      border-radius: 1.125rem;
      padding:.9rem;
    }
    .detail-row{
      display:flex;
      justify-content:space-between;
      gap:.6rem;
      padding:.65rem 0;
      border-bottom:1px dashed rgba(255,255,255,.10);
    }
    .detail-row:last-child{border-bottom:none; padding-bottom:0}
    .label{color:var(--muted2); font-size:.8rem; font-weight:900}
    .value{font-weight:1000}

    .host{ display:flex; gap:.75rem; align-items:center; margin-top:.75rem; }
    .avatar{
      width:3rem; height:3rem; border-radius: 1rem;
      background:
        radial-gradient(120% 120% at 20% 10%, rgba(244,197,66,.22), transparent 60%),
        radial-gradient(120% 120% at 80% 10%, rgba(178,92,255,.22), transparent 55%),
        rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      box-shadow: 0 1.125rem 3.125rem rgba(0,0,0,.35);
      flex:0 0 auto;
    }
    .host .name{font-weight:1000}
    .host .role{color:var(--muted); font-size:.82rem; font-weight:700}

    .callout{
      border:1px solid rgba(244,197,66,.22);
      background:
        radial-gradient(120% 140% at 10% 0%, rgba(244,197,66,.18), transparent 60%),
        rgba(255,255,255,.04);
      border-radius: 1.125rem;
      padding:.9rem;
      color:var(--muted);
      font-weight:700;
    }
    .callout strong{color:var(--text)}
    .divider{ height:1px; background: rgba(255,255,255,.10); margin: .9rem 0; }

    /* Countdown */
    .countdown{
      display:flex;
      gap:.75rem;
      align-items:center;
      flex-wrap:wrap;
      margin-top: .9rem;
    }
    .pill{
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      border-radius:999px;
      padding:.65rem .9rem;
      font-weight:1000;
      letter-spacing:.01rem;
    }
    .timer{ display:flex; gap:.5rem; flex-wrap:wrap; align-items:center; }
    .tbox{
      min-width: 4.5rem;
      text-align:center;
      padding:.65rem .65rem;
      border-radius: 1rem;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(255,255,255,.04);
      transition: transform .18s ease;
    }
    .tbox:hover{ transform: translateY(-2px); }
    .tbox .num{font-size:1.35rem; font-weight:1000; line-height:1}
    .tbox .cap{font-size:.75rem; color:var(--muted2); margin-top:.35rem; font-weight:900}

    /* Sections */
    section{ padding: 1.5rem 0; }
    .section-title{
      font-size: 1.85rem;
      margin:0 0 .5rem;
      letter-spacing:-.02rem;
      font-family: "Cormorant Garamond", serif;
      font-weight:700;
    }
    .section-sub{
      margin:0 0 .9rem;
      color:var(--muted);
      max-width: 72ch;
      font-weight:700;
      font-size: 1rem;
    }

    .grid-3,
    .grid-2{
      display:grid;
      grid-template-columns: 1fr;
      gap:.75rem;
    }

    .mini{
      padding: 1rem;
      border-radius: 1.125rem;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      position:relative;
      overflow:hidden;
      transform: translateZ(0);
      transition: transform .18s ease, box-shadow .18s ease, border-color .18s ease;
      backdrop-filter: blur(.5rem);
    }
    .mini:hover{
      transform: translateY(-2px);
      border-color: rgba(255,255,255,.18);
      box-shadow: 0 1.125rem 3.5rem rgba(0,0,0,.30);
    }
    .mini h4{margin:0 0 .4rem; font-size:1rem; font-weight:900}
    .mini p{margin:0; color:var(--muted); font-size:.95rem; font-weight:700}

    .check{ display:inline-flex; align-items:center; gap:.65rem; }
    .dot{
      width:.75rem; height:.75rem; border-radius:999px;
      background: linear-gradient(90deg, rgba(255,122,89,.95), rgba(244,197,66,.90));
      box-shadow: 0 0 0 .25rem rgba(255,122,89,.10);
      flex:0 0 auto;
    }

    /* YouTube card */
    .yt-card{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      border-radius: 1.125rem;
      overflow:hidden;
      position:relative;
    }
    .yt-thumb{
      width:100%;
      aspect-ratio: 16 / 9;
      object-fit:cover;
      filter: saturate(1.05) contrast(1.03);
    }
    .yt-play{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      background: linear-gradient(180deg, rgba(0,0,0,.12), rgba(0,0,0,.45));
      cursor:pointer;
    }
    .yt-play button{
      border:1px solid rgba(255,255,255,.20);
      background:
        radial-gradient(120% 140% at 10% 0%, rgba(244,197,66,.38), transparent 60%),
        rgba(0,0,0,.38);
      color: var(--text);
      font-weight:1000;
      padding:.75rem 1rem;
      border-radius:999px;
      display:flex; align-items:center; gap:.65rem;
      cursor:pointer;
      backdrop-filter: blur(.625rem);
      box-shadow: 0 1.125rem 2.8rem rgba(0,0,0,.35);
    }
    .yt-caption{
      padding:.75rem .9rem;
      color:var(--muted);
      font-size:.82rem;
      font-weight:900;
      border-top:1px solid rgba(255,255,255,.08);
    }
    .yt-iframe{
      width:100%;
      aspect-ratio:16/9;
      border:0;
      display:none;
    }

    /* Scroll reveal */
    .reveal{ opacity:0; transform: translateY(.75rem); transition: opacity .55s ease, transform .55s ease; }
    .reveal.show{ opacity:1; transform: translateY(0); }

    /* FAQ */
    .faq{display:grid; gap:.65rem}
    details{
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.04);
      border-radius: 1.125rem;
      padding:.85rem .9rem;
      transition: border-color .15s ease;
    }
    details[open]{ border-color: rgba(244,197,66,.28); }
    summary{
      cursor:pointer;
      font-weight:1000;
      list-style:none;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:.65rem;
    }
    summary::-webkit-details-marker{display:none}
    .faq p{margin:.65rem 0 0; color:var(--muted); font-weight:700}
    .chev{opacity:.75}

    footer{
      padding: 1.75rem 0 4rem;
      color:var(--muted2);
      font-size:.85rem;
      font-weight:800;
    }

    /**************************************************************
     * TABLET (768px - 1024px)
     **************************************************************/
    @media (min-width: 768px){
      .top-actions{ display:flex; }
      .hamburger{ display:none; }
      .mobile-menu{ display:none !important; }

      .hero-grid{
        grid-template-columns: 1.2fr .8fr;
        gap: 1.1rem;
      }
      .photo-strip{
        grid-template-columns: 1fr 1fr 1fr;
      }
      .grid-2{ grid-template-columns: repeat(2, 1fr); }
      .grid-3{ grid-template-columns: repeat(2, 1fr); }
      .brand-title{ max-width: 22rem; }
    }

    /**************************************************************
     * DESKTOP (> 1024px)
     **************************************************************/
    @media (min-width: 1025px){
      .grid-3{ grid-template-columns: repeat(3, 1fr); }
      .card{ padding: 1.35rem; }
      .pimg{ height: 7.4rem; }
    }
  </style>
</head>

<body>
  <!-- Background layers -->
  <div class="bg-wrap"></div>
  <div class="bg-blur-image" id="bgBlur"></div>
  <div class="bg-noise" id="bgNoise"></div>

  <!-- Topbar -->
  <div class="topbar">
    <div class="container">
      <div class="topbar-inner">
        <div class="brand">
          <div class="badge" id="brandBadge">üå∏ Workshop ‚Ä¢ Self-Growth</div>
          <div class="brand-title" id="workshopNameTopbar">Workshop</div>
        </div>

        <!-- Desktop actions -->
        <div class="top-actions" id="desktopActions">
          <a class="btn" href="#faq" id="navFaq">‚ùì FAQ</a>
          <a class="btn primary" href="#contribute" id="navPay">üíñ Contribute ‚Çπ51+</a>
        </div>

        <!-- Mobile hamburger -->
        <button class="hamburger" id="hamburger" aria-label="Open menu" aria-expanded="false">
          <span></span>
        </button>
      </div>

      <!-- Mobile menu panel -->
      <div class="mobile-menu" id="mobileMenu">
        <div class="menu-inner">
          <a class="btn" href="#what">üìö What you‚Äôll learn</a>
          <a class="btn" href="#faq">‚ùì FAQ</a>
          <a class="btn primary" href="#contribute">üíñ Contribute ‚Çπ51+</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Hero -->
  <header class="hero">
    <div class="container">
      <div class="hero-grid">
        <div class="card reveal">
          <div class="kicker" id="heroKicker"></div>

          <h1 class="title" id="heroTitle"></h1>
          <p class="subtitle" id="heroSubtitle"></p>

          <div class="quote">
            <strong id="heroQuoteStrong"></strong><br/>
            <span id="heroQuoteText"></span>
          </div>

          <div class="hero-cta-row">
            <a class="btn primary" href="#contribute" id="heroCtaPrimary"></a>
            <a class="btn" href="#what" id="heroCtaSecondary"></a>
            <span class="fine" id="heroFine"></span>
          </div>

          <div class="countdown">
            <div class="pill" id="spotsPill">üî• Only <span id="spots">21</span> Spots Left</div>
            <div class="timer" aria-label="Countdown timer">
              <div class="tbox"><div class="num" id="dd">00</div><div class="cap">Days</div></div>
              <div class="tbox"><div class="num" id="hh">00</div><div class="cap">Hours</div></div>
              <div class="tbox"><div class="num" id="mm">00</div><div class="cap">Min</div></div>
              <div class="tbox"><div class="num" id="ss">00</div><div class="cap">Sec</div></div>
            </div>
          </div>

          <!-- Photo strip populated from JSON -->
          <div class="photo-strip" id="photoStrip"></div>
        </div>

        <aside class="card soft reveal">
          <h3 style="margin:0 0 .7rem; font-size:1.05rem; letter-spacing:-.01rem;" id="detailsTitle"></h3>

          <div class="detail-box">
            <div class="detail-row">
              <div class="label">üìÖ Date</div>
              <div class="value" id="detailDate"></div>
            </div>
            <div class="detail-row">
              <div class="label">‚è∞ Time</div>
              <div class="value" id="detailTime"></div>
            </div>
            <div class="detail-row">
              <div class="label">üíª Format</div>
              <div class="value" id="detailFormat"></div>
            </div>
            <div class="detail-row">
              <div class="label">‚è≥ Duration</div>
              <div class="value" id="detailDuration"></div>
            </div>
            <div class="detail-row">
              <div class="label">üíõ Contribution</div>
              <div class="value" id="detailContribution"></div>
            </div>
          </div>

          <div class="host">
            <div class="avatar" aria-hidden="true"></div>
            <div>
              <div class="name" id="hostName"></div>
              <div class="role" id="hostRole"></div>
            </div>
          </div>

          <div class="divider"></div>

          <div class="callout" id="hostHowToJoin"></div>

          <div class="hero-cta-row" style="margin-top:.9rem">
            <a class="btn primary" href="#contribute" style="width:100%" id="asidePayBtn">üíñ Contribute ‚Çπ51+ (Razorpay)</a>
          </div>

          <div class="divider"></div>

          <!-- YouTube card -->
          <div class="yt-card" id="ytCard">
            <img class="yt-thumb" id="ytThumb" alt="Self-love video thumbnail">
            <div class="yt-play" id="ytPlay">
              <button type="button" id="ytButtonText"></button>
            </div>
            <iframe class="yt-iframe" id="ytFrame"
              title="Self-love video"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              allowfullscreen></iframe>
            <div class="yt-caption" id="ytCaption"></div>
          </div>
        </aside>
      </div>
    </div>
  </header>

  <!-- Sections are generated from JSON -->
  <main id="mainContent"></main>

  <!-- Contribute -->
  <section id="contribute">
    <div class="container">
      <div class="card reveal">
        <h2 class="section-title" style="margin-top:0" id="contributeTitle"></h2>
        <p class="section-sub" style="margin-bottom:0" id="contributeText"></p>

        <div class="divider"></div>

        <div class="callout" id="contributeCallout"></div>

        <div class="divider"></div>

        <!-- ‚úÖ no amount input -->
        <button class="btn primary" id="payBtn" style="width:100%"></button>
        <div class="fine" id="payHint" style="margin-top:.65rem"></div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="callout reveal" id="footerCallout"></div>
      <div style="margin-top:.8rem">
        ¬© <span id="year"></span> ‚Ä¢ <span id="footerCopyright"></span>
      </div>
    </div>
  </footer>

  <script>
    /**************************************************************
     * IMPORTANT:
     * This site loads content from workshop-data.json.
     * If you open index.html directly (file://), some browsers block fetch().
     * Use a local server:
     * - VSCode: "Live Server" extension
     * - Or: python -m http.server
     **************************************************************/

    let DATA = null;

    // Elements
    const bgBlur = document.getElementById("bgBlur");
    const bgNoise = document.getElementById("bgNoise");

    const hamburger = document.getElementById("hamburger");
    const mobileMenu = document.getElementById("mobileMenu");

    // Countdown boxes
    const dd = document.getElementById("dd");
    const hh = document.getElementById("hh");
    const mm = document.getElementById("mm");
    const ss = document.getElementById("ss");

    function pad(n){ return String(n).padStart(2,"0"); }

    // Hamburger toggle
    function setupHamburger(){
      hamburger.addEventListener("click", () => {
        const isOpen = mobileMenu.classList.toggle("open");
        hamburger.setAttribute("aria-expanded", String(isOpen));
      });

      // Close menu after clicking a link
      mobileMenu.querySelectorAll("a").forEach(a => {
        a.addEventListener("click", () => {
          mobileMenu.classList.remove("open");
          hamburger.setAttribute("aria-expanded", "false");
        });
      });
    }

    // Scroll reveal
    function setupReveal(){
      const reveals = document.querySelectorAll(".reveal");
      const io = new IntersectionObserver((entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) e.target.classList.add("show");
        });
      }, { threshold: 0.12 });
      reveals.forEach(el => io.observe(el));
    }

    // Countdown
    function startCountdown(isoString){
      function tick(){
        const now = new Date();
        const target = new Date(isoString);
        const diff = target - now;

        if (diff <= 0){
          dd.textContent = "00";
          hh.textContent = "00";
          mm.textContent = "00";
          ss.textContent = "00";
          return;
        }

        const totalSeconds = Math.floor(diff / 1000);
        const days = Math.floor(totalSeconds / (3600*24));
        const hours = Math.floor((totalSeconds % (3600*24)) / 3600);
        const mins = Math.floor((totalSeconds % 3600) / 60);
        const secs = totalSeconds % 60;

        dd.textContent = pad(days);
        hh.textContent = pad(hours);
        mm.textContent = pad(mins);
        ss.textContent = pad(secs);
      }
      tick();
      setInterval(tick, 1000);
    }

    // YouTube thumbnail + play
    function setupYouTube(videoId, buttonText, caption){
      const ytThumb = document.getElementById("ytThumb");
      const ytPlay = document.getElementById("ytPlay");
      const ytFrame = document.getElementById("ytFrame");
      const ytButtonText = document.getElementById("ytButtonText");
      const ytCaption = document.getElementById("ytCaption");

      ytButtonText.textContent = buttonText || "‚ñ∂ Watch (Optional)";
      ytCaption.textContent = caption || "";

      ytThumb.src = "https://img.youtube.com/vi/" + encodeURIComponent(videoId) + "/hqdefault.jpg";

      ytPlay.addEventListener("click", () => {
        ytFrame.style.display = "block";
        ytPlay.style.display = "none";
        ytThumb.style.display = "none";
        ytFrame.src =
          "https://www.youtube-nocookie.com/embed/" +
          encodeURIComponent(videoId) +
          "?autoplay=1&rel=0&modestbranding=1";
      });
    }

    // Build section HTML from JSON
    function buildSection(id, sectionData, gridClass){
      const section = document.createElement("section");
      section.id = id;

      const container = document.createElement("div");
      container.className = "container";

      const h2 = document.createElement("h2");
      h2.className = "section-title reveal";
      h2.innerHTML = sectionData.title || "";

      const p = document.createElement("p");
      p.className = "section-sub reveal";
      p.innerHTML = sectionData.sub || "";

      container.appendChild(h2);
      container.appendChild(p);

      if (Array.isArray(sectionData.items) && sectionData.items.length){
        const grid = document.createElement("div");
        grid.className = gridClass;

        sectionData.items.forEach(item => {
          const card = document.createElement("div");
          card.className = "mini reveal";

          // Testimonials are a different shape
          if (item.quote){
            const stars = document.createElement("div");
            stars.style.color = "var(--warn)";
            stars.style.letterSpacing = "2px";
            stars.style.fontSize = ".9rem";
            stars.style.fontWeight = "900";
            stars.textContent = "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ";

            const quote = document.createElement("p");
            quote.className = "section-sub";
            quote.style.marginTop = ".55rem";
            quote.textContent = item.quote;

            const name = document.createElement("div");
            name.style.marginTop = ".65rem";
            name.style.color = "var(--muted2)";
            name.style.fontSize = ".82rem";
            name.style.fontWeight = "900";
            name.textContent = item.name || "";

            card.appendChild(stars);
            card.appendChild(quote);
            card.appendChild(name);
          } else {
            const h4 = document.createElement("h4");
            h4.className = "check";
            h4.innerHTML = `<span class="dot"></span> ${item.h || ""}`;

            const pp = document.createElement("p");
            pp.textContent = item.p || "";

            card.appendChild(h4);
            card.appendChild(pp);
          }

          grid.appendChild(card);
        });

        container.appendChild(grid);
      }

      // Optional final callout
      if (sectionData.finalCallout){
        const callout = document.createElement("div");
        callout.className = "callout reveal";
        callout.style.marginTop = "0.9rem";
        callout.innerHTML = sectionData.finalCallout;
        container.appendChild(callout);
      }

      section.appendChild(container);
      return section;
    }

    // Build FAQ
    function buildFAQ(id, faqData){
      const section = document.createElement("section");
      section.id = id;

      const container = document.createElement("div");
      container.className = "container";

      const h2 = document.createElement("h2");
      h2.className = "section-title reveal";
      h2.innerHTML = faqData.title || "";

      const p = document.createElement("p");
      p.className = "section-sub reveal";
      p.innerHTML = faqData.sub || "";

      const faqWrap = document.createElement("div");
      faqWrap.className = "faq";

      (faqData.items || []).forEach(item => {
        const details = document.createElement("details");
        details.className = "reveal";
        if (item.open) details.open = true;

        const summary = document.createElement("summary");
        summary.innerHTML = `${item.q || ""} <span class="chev">‚ñæ</span>`;

        const ans = document.createElement("p");
        ans.textContent = item.a || "";

        details.appendChild(summary);
        details.appendChild(ans);
        faqWrap.appendChild(details);
      });

      container.appendChild(h2);
      container.appendChild(p);
      container.appendChild(faqWrap);

      // bottom CTA
      const ctaRow = document.createElement("div");
      ctaRow.className = "hero-cta-row reveal";
      ctaRow.style.marginTop = ".9rem";

      const btn = document.createElement("a");
      btn.className = "btn primary";
      btn.href = "#contribute";
      btn.textContent = "üíñ Contribute ‚Çπ51+ (Razorpay)";

      const fine = document.createElement("span");
      fine.className = "fine";
      fine.textContent = faqData.bottomLine || "";

      ctaRow.appendChild(btn);
      ctaRow.appendChild(fine);

      container.appendChild(ctaRow);

      section.appendChild(container);
      return section;
    }

    function applyDataToPage(d){
      DATA = d;

      // Head
      document.title = d.pageTitle || document.title;
      const metaDesc = document.querySelector('meta[name="description"]');
      if (metaDesc) metaDesc.setAttribute("content", d.metaDescription || "");

      // Background
      if (d.background?.blurImageUrl){
        bgBlur.style.backgroundImage = `url("${d.background.blurImageUrl}")`;
      }
      if (d.background?.noiseTextureUrl){
        bgNoise.style.backgroundImage = `url("${d.background.noiseTextureUrl}")`;
      }

      // Topbar
      document.getElementById("brandBadge").textContent = d.brandBadge || "";
      document.getElementById("workshopNameTopbar").textContent = d.workshopNameTopbar || "";

      // Hero
      document.getElementById("heroKicker").textContent = d.hero?.kicker || "";
      document.getElementById("heroTitle").textContent = d.hero?.title || "";
      document.getElementById("heroSubtitle").innerHTML = d.hero?.subtitle || "";
      document.getElementById("heroQuoteStrong").textContent = d.hero?.quoteStrong || "";
      document.getElementById("heroQuoteText").textContent = d.hero?.quoteText || "";
      document.getElementById("heroFine").textContent = d.hero?.fineLine || "";
      document.getElementById("heroCtaPrimary").textContent = d.hero?.ctaPrimary || "Contribute";
      document.getElementById("heroCtaSecondary").textContent = d.hero?.ctaSecondary || "See details";

      // Photo strip
      const strip = document.getElementById("photoStrip");
      strip.innerHTML = "";
      (d.photoStrip || []).forEach(ph => {
        const wrap = document.createElement("div");
        wrap.className = "pimg";

        const img = document.createElement("img");
        img.referrerPolicy = "no-referrer";
        img.alt = ph.alt || "";
        img.src = ph.img || "";

        const tag = document.createElement("div");
        tag.className = "tag";
        tag.textContent = ph.tag || "";

        wrap.appendChild(img);
        wrap.appendChild(tag);
        strip.appendChild(wrap);
      });

      // Details
      document.getElementById("detailsTitle").textContent = d.details?.title || "Workshop Details";
      document.getElementById("detailDate").textContent = d.details?.date || "";
      document.getElementById("detailTime").textContent = d.details?.time || "";
      document.getElementById("detailFormat").textContent = d.details?.format || "";
      document.getElementById("detailDuration").textContent = d.details?.duration || "";
      document.getElementById("detailContribution").textContent = d.details?.contribution || "‚Çπ51+";

      // Host
      document.getElementById("hostName").textContent = d.host?.name || "";
      document.getElementById("hostRole").textContent = d.host?.role || "";
      document.getElementById("hostHowToJoin").innerHTML = `<strong>How to join:</strong> ${d.host?.howToJoin || ""}`;

      // Spots
      const spotsPill = document.getElementById("spotsPill");
      const spotsEl = document.getElementById("spots");
      if (typeof d.spotsLeft === "number" && d.spotsLeft > 0){
        spotsEl.textContent = String(d.spotsLeft);
        spotsPill.style.display = "";
      } else {
        spotsPill.style.display = "none";
      }

      // Countdown
      if (d.workshopStartIST){
        startCountdown(d.workshopStartIST);
      }

      // YouTube
      setupYouTube(d.youtubeVideoId, d.youtubeButtonText, d.youtubeCardCaption);

      // Build main sections (structure stays same, content comes from JSON)
      const main = document.getElementById("mainContent");
      main.innerHTML = "";

      const s = d.sections || {};

      if (s.why) main.appendChild(buildSection("why", s.why, "grid-2"));
      if (s.what) {
        const sec = buildSection("what", s.what, "grid-3");

        // add CTA line under "what"
        const container = sec.querySelector(".container");
        const ctaRow = document.createElement("div");
        ctaRow.className = "hero-cta-row reveal";
        ctaRow.style.marginTop = ".9rem";

        const btn = document.createElement("a");
        btn.className = "btn primary";
        btn.href = "#contribute";
        btn.textContent = "üíñ Contribute ‚Çπ51+ to Register";

        const note = document.createElement("span");
        note.className = "fine";
        note.textContent = s.what.belowCtaNote || "";

        ctaRow.appendChild(btn);
        ctaRow.appendChild(note);
        container.appendChild(ctaRow);

        main.appendChild(sec);
      }

      if (s.who) main.appendChild(buildSection("who", s.who, "grid-3"));
      if (s.takeaways) main.appendChild(buildSection("takeaways", s.takeaways, "grid-2"));
      if (s.testimonials) main.appendChild(buildSection("testimonials", s.testimonials, "grid-3"));
      if (s.faq) main.appendChild(buildFAQ("faq", s.faq));

      // Contribute section
      document.getElementById("contributeTitle").textContent = d.contribute?.title || "Contribute & Register";
      document.getElementById("contributeText").innerHTML = d.contribute?.text || "";
      document.getElementById("contributeCallout").innerHTML =
        `<strong>How to join:</strong> ${d.host?.howToJoin || ""}`;

      // Pay button (no amount selection)
      const payBtn = document.getElementById("payBtn");
      const payHint = document.getElementById("payHint");

      payBtn.textContent = d.contribute?.buttonText || "üíñ Contribute ‚Çπ51+ (Razorpay)";
      payHint.textContent = d.contribute?.hint || "You‚Äôll be redirected to Razorpay to complete payment.";

      payBtn.addEventListener("click", () => {
        if (!d.razorpayPaymentUrl){
          alert("Please set razorpayPaymentUrl in workshop-data.json");
          return;
        }
        window.location.href = d.razorpayPaymentUrl;
      });

      // Footer
      document.getElementById("footerCallout").innerHTML = d.footer?.callout || "";
      document.getElementById("footerCopyright").textContent =
        d.footer?.copyright || "All rights reserved";

      // Year
      document.getElementById("year").textContent = new Date().getFullYear();

      // Setup interactions after DOM content exists
      setupHamburger();
      setupReveal();
    }

    async function init(){
      try{
        const res = await fetch("./workshop-data.json", { cache: "no-store" });
        if (!res.ok) throw new Error("Could not load workshop-data.json");
        const data = await res.json();
        applyDataToPage(data);
      } catch (e){
        console.error(e);
        alert("Error loading workshop-data.json. Use a local server (Live Server / python http.server).");
      }
    }

    init();
  </script>
</body>
</html>
